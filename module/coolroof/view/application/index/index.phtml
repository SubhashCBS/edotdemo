<style type="text/css">
.irs-min, .irs-max{display:none !important}
.min, .max{width:50px}
.min{float:left}
.max{float:right}
.control-label{clear:both;display:block}
</style>
<?php //print_r($user_glass_types); ?>
<img src="<?php echo $this->basePath(); ?>/assets/admin/layout/img/mlogo.png" alt="logo" class="logo-default"/>
<div STYLE="width:400px;float:right">
<?php if($user = $this->identity()) { ?> 
    <a href="<?php echo $this->url('user-index');?>" class="btn btn-success">
      <?php echo $this->translate('User Home'); ?>
    </a>
	<a href="<?php echo $this->url('user-register', array('action' => 'edit-profile'));?>" class="btn btn-success">
	  <?php echo $this->translate('Edit Profile'); ?>
	</a> 
	<a href="<?php echo $this->url('user-index', array('action' => 'logout'))?>" class="btn btn-success">
	  <?php echo $this->translate('Log Out'); ?>
	</a>
<?php
  } else { ?>
	<a href="<?php echo $this->url('user-index', array('action' => 'login'))?>" class="btn btn-success">
	  <?php echo $this->translate('Log in'); ?>
	</a>
	<a href="<?php echo $this->url('user-register');?>" class="btn btn-success">
	  <?php echo $this->translate('Sign Up'); ?>
	</a>
	<a href="<?php echo $this->url('user-register', array('action' => 'reset-password'));?>" class="btn btn-success">
	  <?php echo $this->translate('Reset Password'); ?>
	</a>
<?php } ?>
</div>

	<form method="post" name="simulation-from" id="simulation-from" onsubmit="return setvalues()">

		
		<div class="portlet-body form" style="clear:both">
			<input type="hidden" id="cmin" />
			<input type="hidden" id="cmax" />
			<div class="form-group" style="float:left">
				<div style="display:inline-block;margin-left:10px">	
					<label class="control-label">Location</label><div style="clear:both"></div>
					<select style="display:inline-block" name="location" class="input-small">
						<option>Ahmedabad</option>
						<option>Akola</option>
						<option>Allahabad</option>
						<option>Amritsar</option>
						<option>Aurangabad</option>
						<option>Bangalore</option>
						<option>Barmer</option>
						<option>Belgaum</option>
						<option>Bhagalpur</option>
						<option>Bhopal</option>
						<option>Bhubneshwar</option>
						<option>Bikaner</option>
						<option>Chennai-Madras</option>
						<option>Chirtadurg</option>
						<option>Dehradun</option>
						<option>Dibrugarh</option>
						<option>Gorakhpur</option>
						<option>Guwahati</option>
						<option>Gwalior</option>
						<option>Hissar</option>
						<option>Hyderabad</option>
						<option>Imphal</option>
						<option>Indore</option>
						<option>Jabalpur</option>
						<option>Jagdelpur</option>
						<option>Jaipur</option>
						<option>Jaisalmer</option>
						<option>Jamnagar</option>
						<option>Jodhpur</option>
						<option>Jorhat</option>
						<option>Kolkata</option>
						<option>Kota</option>
						<option>Kurnool</option>
						<option>Lucknow</option>
						<option>Mangalore</option>
						<option>Mumbai</option>
						<option>Nagpur</option>
						<option>Nellore</option>
						<option>New Delhi</option>
						<option>Panjim</option>
						<option>Patna</option>
						<option>Pune</option>
						<option>Raipur</option>
						<option>Rajkot</option>
						<option>Ramagundam</option>
						<option>Ranchi</option>
						<option>Ratnagiri</option>
						<option>Raxaul</option>
						<option>Saharanpur</option>
						<option>Shillong</option>
						<option>Sholapur</option>
						<option>Sundernagar</option>
						<option>Surat</option>
						<option>Tezpur</option>
						<option>Tiruchirapalli</option>
						<option>Trivandram</option>
						<option>Veraval</option>
						<option>Vishakhapatnam</option>
					</select>
				</div>
				
			
				<div style="display:inline-block;margin-left:10px">
					<label class="control-label">Plot Length&nbsp;<small>(meters)</small></label><div style="clear:both"></div>
					<div style="display:inline-block">
						<input type="text" class="input-small" name="plot-lenght">
					</div>
				</div>
				
				<div style="display:inline-block;margin-left:10px">
					<label class="control-label">Plot Width&nbsp;<small>(meters)</small></label><div style="clear:both"></div>
					<div style="display:inline-block">
						<input type="text" class="input-small" name="plot-width">
					</div>
				</div>
				
				<div style="display:inline-block;margin-left:10px">
					<label class="control-label">Building Area&nbsp;<small>(Square meter)</small></label><div style="clear:both"></div>
					<div style="display:inline-block">
						<input type="text" class="input-small" name="building-area">
					</div>
				</div>
				
				<div style="display:inline-block;margin-left:10px">	
				<label class="control-label">AC Type</label><div style="clear:both"></div>
					<select style="display:inline-block" class=" input-small" name="ac-type">
						<option value="0">Window/Split air conditioner,  Heating source: Electric Heat Pump</option>
						<option value="1">Central VAV system with air cooled chiller, Heating Source : Electric Resistance</option>
						<option value="2">Central VAV system with water cooled screw chiller, Heating Source : Electric Resistance</option>
						<option value="3">Packaged rooftop air conditioner, Heating source: Electric Heat Pump</option>
						<option value="4">Unconditioned: No system</option>
						<option value="5">PTAC</option>
						<option value="6" selected="selected">PTHP</option>
					</select>
				</div>
			</div>
			
			
			
			<div style="clear:both"></div>
			
			<div class="form-group">
				<div style="display:inline-block;margin-left:10px">
					<label class="control-label">Day Light Controls</label><div style="clear:both"></div>
					<div class="actions" style="display:inline-block">
								<input type="checkbox" name="day-light" class="make-switch" checked data-size="small" data-on="success" data-off="warning">
					</div>
				</div>
				
				<div style="display:inline-block;margin-left:10px">
					<label class="control-label">Internal Shading Controls</label><div style="clear:both"></div>
					<div class="actions" style="display:inline-block">
						<select style="display:inline-block" name="internal-shading-controls" class=" input-small">
						<option>No shading controls</option>
						<option>temperature shading</option>
						<option>Roof Shading</option>
					</select>		
					</div>
				</div>
				
				<div style="display:inline-block;margin-left:10px">
					<div class="checkbox">
						<label><input type="checkbox" name="cool-roof" id="croof"> Cool Roof </label><div style="clear:both"></div>
					</div>
				</div>
			</div>
		
		
		</div>

			<div style="clear:both"></div>
			
			<div class="row" style="margin-top:50px">
			
				<div class="col-md-6">
					<div class="portlet box blue-steel">
						<div class="portlet-title">
							<div class="caption">
								Define
							</div>
						</div>

				
						<div class="portlet-body">
							<div class="form-group">
								<label class="control-label"><strong>Azimuth</strong> <span style="float:right" class="lock" id="1"><img src="<?php echo $this->basePath(); ?>/assets/admin/layout/img/lock.png" /></span></label><div style="clear:both"></div>
								<div id="range_1_box">
									<input type="text" value="" id="range_1-min" class="min" />
									<input type="text" value="" id="range_1-max" class="max" />
									<br/><br/>
									<input id="range_1" class="azimuth" type="text" value=""/>
								</div>
								<div id="range_1_text" style="display:none">
									<input type="text" class="azimuth"  value=""/>
								</div>
								<input type="hidden" id="azimuth" name="azimuth" value=""/>
							</div>
							
							<div class="form-group">
								<label class="control-label"><strong>Aspect Ratio</strong>  <span style="float:right" class="lock" id="2"><img src="<?php echo $this->basePath(); ?>/assets/admin/layout/img/lock.png" /></span></label><div style="clear:both"></div>
								<div id="range_2_box">
									<input type="text" value="" id="range_2-min" class="min" />
									<input type="text" value="" id="range_2-max" class="max" />
									<br/><br/>
									<input id="range_2" type="text" class="aspect-ratio" value=""/>
								</div>
								<div id="range_2_text" style="display:none">
									<input type="text" class="aspect-ratio" value=""/>
								</div>
								<input type="hidden" id="aspect-ratio" name="aspect-ratio" value=""/>
							</div>
							
							<div class="form-group">
								<label class="control-label"><strong>Overhang</strong>  <span style="float:right" class="lock" id="4"><img src="<?php echo $this->basePath(); ?>/assets/admin/layout/img/lock.png" /></span></label><div style="clear:both"></div>
								<div id="range_4_box">
									<input type="text" value="" id="range_4-min" class="min" />
									<input type="text" value="" id="range_4-max" class="max" />
									<br/><br/>
									<input id="range_4" type="text" class="over-hang" value=""/>
								</div>
								<div id="range_4_text" style="display:none">
									<input type="text" class="over-hang" value=""/>
								</div>
								<input type="hidden" id="over-hang" name="over-hang" value=""/>
							</div>

							
							<div class="form-group">
								<label class="control-label"><strong>Window to Wall Ratio</strong>  </label><div style="clear:both"></div>
										<div class="radio-list">
											<label>
											<input type="radio" name="wwr-direction" id="wwr" class="wwr" value="same_dir" checked> Same in all directions</label><div style="clear:both"></div>
											<label>
											<input type="radio" name="wwr-direction" id="wwr2" class="wwr" value="different_dir"> Different in all directions </label><div style="clear:both"></div>
										</div>
								<div id="swwr">
									<span style="float:right" class="lock" id="3"><img src="<?php echo $this->basePath(); ?>/assets/admin/layout/img/lock.png" /></span>
									<br/><br/>
									<div id="range_3_box">
										<input type="text" value="" id="range_3-min" class="min" />
										<input type="text" value="" id="range_3-max" class="max" />
										<br/><br/>
										<input id="range_3" type="text" name="wwr[]" value=""/>
									</div>
									<div id="range_3_text" style="display:none">
										<input type="text" name="wwr[]" value=""/>
									</div>
								</div>
								
								<div id="dwwr">
									<label class="control-label">Front WWR:- <span style="float:right" class="lock" id="3_1"><img src="<?php echo $this->basePath(); ?>/assets/admin/layout/img/lock.png" /></span></label><div style="clear:both"></div>
									<div id="range_3_1_box">
										<input type="text" value="" id="range_3_1-min" class="min" />
										<input type="text" value="" id="range_3_1-max" class="max" />
										<br/><br/>
											<input id="range_3_1" type="text" name="wwr[]" value=""/>
									</div>
									<div id="range_3_1_text" style="display:none">
										<input type="text" name="wwr[]" value=""/>
									</div>
									<br/>
									
									<label class="control-label">Back WWR:-	<span style="float:right" class="lock" id="3_2"><img src="<?php echo $this->basePath(); ?>/assets/admin/layout/img/lock.png" /></span></label><div style="clear:both"></div>
									<div id="range_3_2_box">
											<input type="text" value="" id="range_3_2-min" class="min" />
										<input type="text" value="" id="range_3_2-max" class="max" />
										<br/><br/>
											<input id="range_3_2" type="text" name="wwr[]" value=""/>
									</div>
									<div id="range_3_2_text" style="display:none">
										<input type="text" name="wwr[]" value=""/>
									</div>
									<br/>
								
									<label class="control-label">Left WWR:-	<span style="float:right" class="lock" id="3_3"><img src="<?php echo $this->basePath(); ?>/assets/admin/layout/img/lock.png" /></span></label><div style="clear:both"></div>
									<div id="range_3_3_box">
											<input type="text" value="" id="range_3_3-min" class="min" />
										<input type="text" value="" id="range_3_3-max" class="max" />
										<br/><br/>
											<input id="range_3_3" type="text" name="wwr[]" value=""/>
									</div>
									<div id="range_3_3_text" style="display:none">
										<input type="text" name="wwr[]" value=""/>
									</div>
									<br/>
									
									<label class="control-label">Right WWR:- <span style="float:right" class="lock" id="3_4"><img src="<?php echo $this->basePath(); ?>/assets/admin/layout/img/lock.png" /></span></label><div style="clear:both"></div>
									<div id="range_3_4_box">
										<input type="text" value="" id="range_3_4-min" class="min" />
										<input type="text" value="" id="range_3_4-max" class="max" />
										<br/><br/>
										<input id="range_3_4" type="text" name="wwr[]" value=""/>
									</div>	
									<div id="range_3_4_text" style="display:none">
										<input type="text" name="wwr[]" value=""/>
									</div>
								 </div>
											
							</div>
														
							<div class="form-group">
								<label class="control-label"><strong>Glass Type</strong> </label><div style="clear:both"></div>
								No of Selections:- <select id="us" style="display:inline-block" class=" input-small">
									<?php
									for($i = 1; $i <=15; $i++)
									{
									?>
										<option><?php echo $i; ?></option>
									<?php
									}
									?>
								</select>
								<?php
									//mysql_connect("need4all.com.mysql", "need4all_com", "MeetvMysql");
									//mysql_select_db("need4all_com");
									//$result = mysql_query("SELECT * FROM `user_glass_types` WHERE `user_id` = 1");
								?>
								<br/><br/>User Glass Types:- 
								<div style="clear:both;height:10px"></div>			
								
								<div class="col-xs-5">
									<select name="from" id="multiselect" class="form-control" size="8" multiple="multiple">
										<?php
										$i = 0;
										foreach($user_glass_types as $ug)
										{
											$i++;
										?>
											<option value="<?php echo $i; ?>"><?php echo $ug->name; ?></option>
										<?php
										}
										?>
									</select>
								</div>
								
								<div class="col-xs-2" style="margin-top:50px">
									<button type="button" id="multiselect_rightSelected" onclick="return false" class="btn btn-block">Add</button>
									<button type="button" id="multiselect_leftSelected" class="btn btn-block">Remove</button>									
								</div>
								
								<div class="col-xs-5">
									<select name="glass-types[]" id="multiselect_to" class="form-control" size="8" multiple="multiple"></select>
								</div>
							</div>
							
					<div style="clear:both;height:10px"></div>			
					<div class="portlet box yellow">
						<div class="portlet-title">
							<div class="caption">
								Roof Type
							</div>
							<div class="tools">
								<a href="javascript:;" class="expand">
								</a>
							
							</div>
						</div>
						<div class="portlet-body"   style="display:none">
							<div class="tabbable-custom ">
								<div style="">	
									<label class="control-label">Layer 1</label><div style="clear:both"></div>
									<select style="display:inline-block" name="roof-type[]" class="input-small layers">
										<option value="1">      Metal Surface         </option>
										<option value="2" selected="">      12mm thick motar       </option>
										<option value="3">      Built-up roofing      </option>
										<option value="4">      150mm Thick RCC Slab      </option>
										<option value="5">      200mm Thick RCC Slab      </option>
										<option value="6">      Gypsum Plasterboard      </option>
										<option value="7">      Tile or slate      </option>
										<option value="8">      Acoustic tile      </option>
										<option value="9">     Insulation     </option>
									</select>
								</div>
								
								<div style="">	
									<label class="control-label">Layer 2</label><div style="clear:both"></div>
									<select style="display:inline-block" name="roof-type[]" class="input-small layers">
										<option value="1">      Metal Surface         </option>
										<option value="2" selected="">      12mm thick motar       </option>
										<option value="3">      Built-up roofing      </option>
										<option value="4">      150mm Thick RCC Slab      </option>
										<option value="5">      200mm Thick RCC Slab      </option>
										<option value="6">      Gypsum Plasterboard      </option>
										<option value="7">      Tile or slate      </option>
										<option value="8">      Acoustic tile      </option>
										<option value="9">     Insulation     </option>
									</select>
								</div>
								
								<div style="">	
									<label class="control-label">Layer 3</label><div style="clear:both"></div>
									<select style="display:inline-block" name="roof-type[]" class="input-small layers">
										<option value="1">      Metal Surface         </option>
										<option value="2" selected="">      12mm thick motar       </option>
										<option value="3">      Built-up roofing      </option>
										<option value="4">      150mm Thick RCC Slab      </option>
										<option value="5">      200mm Thick RCC Slab      </option>
										<option value="6">      Gypsum Plasterboard      </option>
										<option value="7">      Tile or slate      </option>
										<option value="8">      Acoustic tile      </option>
										<option value="9">     Insulation     </option>
									</select>
								</div>
								
								<div style="">	
									<label class="control-label">Layer 4</label><div style="clear:both"></div>
									<select style="display:inline-block" name="roof-type[]" class="input-small layers">
										<option value="1">      Metal Surface         </option>
										<option value="2" selected="">      12mm thick motar       </option>
										<option value="3">      Built-up roofing      </option>
										<option value="4">      150mm Thick RCC Slab      </option>
										<option value="5">      200mm Thick RCC Slab      </option>
										<option value="6">      Gypsum Plasterboard      </option>
										<option value="7">      Tile or slate      </option>
										<option value="8">      Acoustic tile      </option>
										<option value="9">     Insulation     </option>
									</select>
								</div>
								
								<div id="coolroof" style="display:none">
								
									<h2>Cool Roof</h2>
									<div style="">	
									<label class="control-label">Layer 1</label><div style="clear:both"></div>
									<select style="display:inline-block" name="cool-roof" class="input-small layers">
										<option value="1">      Metal Surface         </option>
										<option value="2" selected="">      12mm thick motar       </option>
										<option value="3">      Built-up roofing      </option>
										<option value="4">      150mm Thick RCC Slab      </option>
										<option value="5">      200mm Thick RCC Slab      </option>
										<option value="6">      Gypsum Plasterboard      </option>
										<option value="7">      Tile or slate      </option>
										<option value="8">      Acoustic tile      </option>
										<option value="9">     Insulation     </option>
									</select>
								</div>
								
								<div style="">	
									<label class="control-label">Layer 2</label><div style="clear:both"></div>
									<select style="display:inline-block" name="cool-roof[]" class="input-small layers">
										<option value="1">      Metal Surface         </option>
										<option value="2" selected="">      12mm thick motar       </option>
										<option value="3">      Built-up roofing      </option>
										<option value="4">      150mm Thick RCC Slab      </option>
										<option value="5">      200mm Thick RCC Slab      </option>
										<option value="6">      Gypsum Plasterboard      </option>
										<option value="7">      Tile or slate      </option>
										<option value="8">      Acoustic tile      </option>
										<option value="9">     Insulation     </option>
									</select>
								</div>
								
								<div style="">	
									<label class="control-label">Layer 3</label><div style="clear:both"></div>
									<select style="display:inline-block" name="cool-roof[]" class="input-small layers">
										<option value="1">      Metal Surface         </option>
										<option value="2" selected="">      12mm thick motar       </option>
										<option value="3">      Built-up roofing      </option>
										<option value="4">      150mm Thick RCC Slab      </option>
										<option value="5">      200mm Thick RCC Slab      </option>
										<option value="6">      Gypsum Plasterboard      </option>
										<option value="7">      Tile or slate      </option>
										<option value="8">      Acoustic tile      </option>
										<option value="9">     Insulation     </option>
									</select>
								</div>
								
								<div style="">	
									<label class="control-label">Layer 4</label><div style="clear:both"></div>
									<select style="display:inline-block" name="cool-roof[]" class="input-small layers">
										<option value="1">      Metal Surface         </option>
										<option value="2" selected="">      12mm thick motar       </option>
										<option value="3">      Built-up roofing      </option>
										<option value="4">      150mm Thick RCC Slab      </option>
										<option value="5">      200mm Thick RCC Slab      </option>
										<option value="6">      Gypsum Plasterboard      </option>
										<option value="7">      Tile or slate      </option>
										<option value="8">      Acoustic tile      </option>
										<option value="9">     Insulation     </option>
									</select>
								</div>

								
								</div>
							
							</div>
						</div>
					</div>
					
					<div class="portlet box yellow">
						<div class="portlet-title">
							<div class="caption">
								Wall Type
							</div>
							<div class="tools">
								<a href="javascript:;" class="expand">
								</a>
							
							</div>
						</div>
						<div class="portlet-body"  style="display:none">
							<div class="tabbable-custom">
								<div style="">	
									<label class="control-label">Layer 1</label><div style="clear:both"></div>
									<select name="wall-type[]" style="display:inline-block" class="input-small layers">
										<option value="1">      Metal Surface         </option>
										<option value="2" selected="">      12mm thick motar       </option>
										<option value="3">      Built-up roofing      </option>
										<option value="4">      150mm Thick RCC Slab      </option>
										<option value="5">      200mm Thick RCC Slab      </option>
										<option value="6">      Gypsum Plasterboard      </option>
										<option value="7">      Tile or slate      </option>
										<option value="8">      Acoustic tile      </option>
										<option value="9">     Insulation     </option>
									</select>
								</div>
								
								<div style="">	
									<label class="control-label">Layer 2</label><div style="clear:both"></div>
									<select name="wall-type[]" style="display:inline-block" class="input-small layers">
										<option value="1">      Metal Surface         </option>
										<option value="2" selected="">      12mm thick motar       </option>
										<option value="3">      Built-up roofing      </option>
										<option value="4">      150mm Thick RCC Slab      </option>
										<option value="5">      200mm Thick RCC Slab      </option>
										<option value="6">      Gypsum Plasterboard      </option>
										<option value="7">      Tile or slate      </option>
										<option value="8">      Acoustic tile      </option>
										<option value="9">     Insulation     </option>
									</select>
								</div>
								
								<div style="">	
									<label class="control-label">Layer 3</label><div style="clear:both"></div>
									<select name="wall-type[]" style="display:inline-block" class="input-small layers">
										<option value="1">      Metal Surface         </option>
										<option value="2" selected="">      12mm thick motar       </option>
										<option value="3">      Built-up roofing      </option>
										<option value="4">      150mm Thick RCC Slab      </option>
										<option value="5">      200mm Thick RCC Slab      </option>
										<option value="6">      Gypsum Plasterboard      </option>
										<option value="7">      Tile or slate      </option>
										<option value="8">      Acoustic tile      </option>
										<option value="9">     Insulation     </option>
									</select>
								</div>
								
								<div style="">	
									<label class="control-label">Layer 4</label><div style="clear:both"></div>
									<select name="wall-type[]" style="display:inline-block" class="input-small layers">
										<option value="1">      Metal Surface         </option>
										<option value="2" selected="">      12mm thick motar       </option>
										<option value="3">      Built-up roofing      </option>
										<option value="4">      150mm Thick RCC Slab      </option>
										<option value="5">      200mm Thick RCC Slab      </option>
										<option value="6">      Gypsum Plasterboard      </option>
										<option value="7">      Tile or slate      </option>
										<option value="8">      Acoustic tile      </option>
										<option value="9">     Insulation     </option>
									</select>
								</div>
							
							</div>
						</div>
					</div>
					
					<div id="r5">
							<div id="range_5_box">
								<input type="text" value="" id="range_5-min" class="min" />
								<input type="text" value="" id="range_5-max" class="max" />
								<br/><br/>
								<input id="range_5" type="text" name="range_4" value=""/>
							</div>
							<div id="range_5_text" style="display:none">
								<input type="text" name="range_5" value=""/>
							</div>
					</div>	
					
							<div class="form-group" Style="text-align:center">
								<button type="submit" onclick="$('#simulation-from').submit()" class="btn blue">Submit</button>
								<button type="submit" style="margin-left:30px" class="btn blue">Reset All</button>
							</div>
						</div>
						
						
					</div>
				</div>
				
				<div class="col-md-6" >
					<div class="portlet-body">
						<ul class="nav nav-tabs" style="margin-bottom:0px">
							<li class="active">
								<a href="#tab_1_1" data-toggle="tab">
								3D View </a>
							</li>
							<li>
								<a href="#tab_1_2" data-toggle="tab">
								Plan </a>
							</li>
							<li >
								<a href="#tab_1_3" data-toggle="tab">
								Elevation
								</a>
							</li>
							
							<li>
								<a href="#tab_1_4" data-toggle="tab">
								Glass Properties
								</a>
							</li>
						</ul>
						<div class="tab-content"   style="border:1px solid #ddd;border-top:none;height:985px">
							<div class="tab-pane fade active in" id="tab_1_1">
								
								
								
							<div class="portlet light bordered">
								<div class="portlet-title">
								</div>
								<div class="portlet-body">
								<div id="nav">
         <h1>Optimization Results</h1>
         <div class="widget right toggle">
            <input type="range" min="0" max="1" value="0.2" step="0.01" name="power" list="powers" id="line_opacity">
            <br>
            Opacity: <span id="opacity_level">19%</span>
         </div>
         <div><a id="shadows" class="right toggle">Shadows</a></div>
         <div><a id="inverted" class="right toggle">Dark</a></div>
         <div><a id="no_ticks" class="right toggle">Hide Ticks</a></div>
      </div>
      <div id="main">
         <div class="widgets">
            <h3>Energy Coloring from Min to Max</h3>
            <div id="totals" class="widget right">Total Selected<br></div>
            <div id="pie" class="widget right">Group Breakdown<br></div>
            <a id="export_selected" class="button green filter_control">Export</a>
            <a id="remove_selected" class="button red filter_control">Remove</a>
            <a id="keep_selected" class="button green filter_control">Keep</a>
            <div id="pager" class="info"></div>
            <div id="legend"></div>
         </div>
         <div id="parallel"></div>
            <div id="myGrid" style="height:1000px;position:relative;" >
            </div>
         <script type="text/javascript">



            
            $(document).ready(function() {
            var sumofvarq="<?php echo $sumofvarq; ?>";
            //to adjust the left for mygird div so that the table gets displayed in the center
            function adjustleftofmygrid(sumofvarq){
                var no=36-(sumofvarq-4)*4;
                document.getElementById("myGrid").style.left=''+no+'%';
            }

            adjustleftofmygrid(sumofvarq);
            var dimensions = new Filter();
            var highlighter = new Selector();
            
            dimensions.set({data: foods });
            
            var columns = _(foods[0]).keys();
            var newcolumns=new Array();
            for (var i = 0; i < columns.length; i++) {
               newcolumns[i]=columns[i];
            }            
            columns=newcolumns;
            //alert(columns);

             var foodgroups =
                ["0","1","2","3","4","5","6","7","8","9","10"];
              
              var colors = {
                "0" : '#ff7f0e',
                "1" : '#aec7e8',
                "2" : '#555',
                "3" : '#ffbb78',
                "4" : '#d62728',
                "5" : '#98df8a',
                "6" : '#2ca02c',
                "7" : '#ff9896',
                "8" : '#9467bd',
                "9" : '#c5b0d5',
                "10" : '#c5b0d6',
              }
            
            _(foodgroups).each(function(group) {
                $('#legend').append("<div class='item'><div class='color' style='background: " + colors[group] + "';></div><div class='key'>" + group + "</div></div>");
              });
            
            var pc = parallel(dimensions, colors);
            var pie = piegroups(foods, foodgroups, colors, 'group');
            var totals = pietotals(
            		['in', 'out'],
            		[_(foods).size(), 0]
            		);
            
            
            
            var slicky = new grid({//slicky is giving the new grids for the table view of the results
            model: dimensions,//it is the filter that filters the results to be displayed and removed
            selector: highlighter,//highlighter is the selector that tells what is selected
            width: $('body').width(),
            columns: columns
            });
            
            // vertical full screen
            var parallel_height = $(window).height()-400;
            if (parallel_height < 120) parallel_height = 120;  // min height
            $('#parallel').css({
            height: parallel_height + 'px',
            width: $(window).width() + 'px'
            });
            
            slicky.update();
            pc.render();
            
            dimensions.bind('change:filtered', function() {
            var data = dimensions.get('data');
            var filtered = dimensions.get('filtered');
            var data_size = _(data).size();
            var filtered_size = _(filtered).size();
            pie.update(filtered);
            totals.update([filtered_size, data_size - filtered_size]);
            
            var opacity = _([2/Math.pow(filtered_size,0.37), 100]).min();
            $('#line_opacity').val(opacity).change();
            });
            
            highlighter.bind('change:selected', function() {
            var highlighted = this.get('selected');
            pc.highlight(highlighted);
            });
            
            $('#remove_selected').click(function() {
            dimensions.outliers();
            pc.update(dimensions.get('data'));
            pc.render();
            dimensions.trigger('change:filtered');
            return false;
            });
            
            $('#keep_selected').click(function() {
            dimensions.inliers();
            pc.update(dimensions.get('data'));
            pc.render();
            dimensions.trigger('change:filtered');
            return false;
            });
            
            $('#export_selected').click(function() {
            var data = dimensions.get('filtered');
            var keys = _.keys(data[0]);
            var csv = _(keys).map(function(d) { return '"' + addslashes(d) + '"'; }).join(",");
            _(data).each(function(row) {
            	csv += "\n";
            	csv += _(keys).map(function(k) {
            		var val = row[k];
            		if (_.isString(val)) {
            		return '"' + addslashes(val) + '"';
            		}
            		if (_.isNumber(val)) {
            		return val;
            		}
            		if (_.isNull(val)) {
            		return "";
            		}
            		}).join(",");
            	});
            var uriContent = "data:application/octet-stream," + encodeURIComponent(csv);
            var myWindow = window.open(uriContent, "Nutrient CSV");
            myWindow.focus();
            return false;
            });
            
            $('#line_opacity').change(function() {
            var val = $(this).val();
            $('#parallel .foreground path').css('stroke-opacity', val.toString());
            $('#opacity_level').html((Math.round(val*10000)/100) + "%");
            });
            
            $('#parallel').resize(function() {
            // vertical full screen
            pc.render();
            var val = $('#line_opacity').val();
            $('#parallel .foreground path').css('stroke-opacity', val.toString());
            });
            
            $('#parallel').resizable({
            handles: 's',
            resize: function () { return false; }
            });
            
            /*$('#myGrid').resizable({
            handles: 's'
            });*/
            
            function addslashes( str ) {
            return (str+'')
            .replace(/\"/g, "\"\"")        // escape double quotes
            .replace(/\0/g, "\\0");        // replace nulls with 0
            };
            
            });
            
         </script>
      </div>
      
									<div id="center">
									</div>
								</div>
							</div>
							
										
										
										
							</div>
							<div class="tab-pane fade" id="tab_1_2">
								
							</div>
							<div class="tab-pane fade" id="tab_1_3">
								
							</div>
							<div class="tab-pane fade" id="tab_1_4">
								
							</div>
						</div>
					</div>
				</div>
				
			</div>
			
	</form>		
			
			
<script type="text/javascript">
function setvalues()
{


	$(".azimuth").each(function() {
		var am  = $(this).val();
		
		if(am != "")
		{
			$("#azimuth").val(am);
		}
	});
	
	$(".aspect-ratio").each(function() {
		var am  = $(this).val();
		if(am != "")
		{
			$("#aspect-ratio").val(am);
		}
	});
	
	$(".over-hang").each(function() {
		var am  = $(this).val();
		
		if(am != "")
		{
			$("#over-hang").val(am);
		}
	});
	
	var frm = $("#simulation-from");
 var data = frm.serializeArray();
	
	$.ajax({
  method: "POST",
  url: "/edotdemo/public/coolroof/mycommandfilegenerator",
  data: data
	})
	  .done(function( msg ) {
		//alert( "Data Saved: " + msg );
	  });
	
	return false;
}
</script>			